# 코스피 고변동성(테슬라형) 종목 자동 분류 로직 정의

## 1. 목적 정의

본 로직의 목적은 코스피 상장 종목 전체를 대상으로
**단기적인 급등락뿐만 아니라, 1년(52주) 동안 꾸준히 높은 가격 변동성과 탄력적 반등 성향(진동)**을 보인 "꾸준한 고변동성 종목(Consistent High-Volatility)"을 식별하는 데 있음.

---

## 2. “테슬라형 종목”의 정량적 정의 (Revised)

테슬라형 종목은 다음 성격을 동시에 만족하는 종목으로 정의함.

1.  **단기 변동성이 높음** (가격이 얌전하지 않음)
2.  **가격의 진동폭이 큼** (단순 하락/상승 추세가 아니라, 위아래로 흔드는 힘이 강함)
3.  **거래가 활발함** (충분한 유동성)

이를 정량화하기 위해 아래 지표들을 사용함.

---

## 3. 사용 지표 구성

### 3.1 [Filter] 거래대금 안정성 (Liquidity Filter)

*   **변경 사항**: 점수 산출에서 제외하고 **필수 통과 조건(Hard Filter)**으로 변경
*   **이유**: 유동성이 클수록 점수가 높아지면 변동성이 낮은 초대형주(삼성전자 등)가 상위권에 왜곡될 가능성 배제.
*   **조건**:
    *   최근 20일 평균 거래대금 **1,000억 원 이상** (기존 100억에서 상향)
    *   **제외 대상**: ETF, ETN, 스팩(SPAC), 우선주 등 순수 보통주가 아닌 종목 제외.

✅ **필수 전제 조건**

---

### 3. 상세 로직 (1년 기준)

### A. 데이터 확보 (Data Fetching)
*   **기간**: 최근 **1년 (52주, 약 250 거래일)**
    *   기존 단기(3개월) 분석에서 **장기(12개월) 분석**으로 변경하여, 일시적인 테마성 급등이 아닌 **"종목 자체의 끼(Personality)"**가 꾸준히 강한 종목을 발굴함.

### B. 점수 산출 (TVS: Tesla-Volatility Score)
각 지표를 **백분위(Percentile Rank)**로 변환하여 합산 (0~100점)

#### 1. 주간 변동성 (Weekly Volatility) - 30%
*   **정의**: 최근 **52주(1년)** 간 주간 수익률의 표준편차.
*   **목적**: 중장기적인 추세의 힘과 진폭을 측정. 1년 내내 꾸준히 위아래로 크게 움직인 종목이 높은 점수를 받음.

#### 2. 일간 변동성 & ATR (Daily Volatility Mix) - 40%
*   **정의**:
    *   (1) 최근 **250일(1년)** 일간 수익률의 표준편차
    *   (2) 최근 **250일** 평균 ATR 비율 (Average True Range / Price)
*   **목적**: 1년 동안 평균적으로 하루에 얼마나 등락했는지를 평가.

#### 3. RSI 변동성 (RSI Volatility) - 30%
*   **정의**: 최근 **250일(1년)** 간 RSI(14) 값의 표준편차.
*   **목적**: "하락 후 반등", "상승 후 조정"의 사이클이 1년 동안 얼마나 자주, 격렬하게 반복되었는지 측정. (꾸준한 진동 성향)
오르거나 내리는 것이 아니라, **과매수와 과매도 구간을 자주 오가는 성격**을 측정.
    *   이 값이 높으면 "하락 후 반등"이나 "상승 후 조정"의 탄력이 좋음을 의미 (Mean Reversion 전략에 유리).

---

## 4. 종합 점수 산출 로직

각 종목에 대해 유동성 필터를 통과한 종목만을 대상으로 점수를 계산함.

### 4.1 정규화

모든 지표는 **Percentile Rank (0~100)** 로 변환하여 합산.

### 4.2 Tesla-Volatility Score 정의

```
TVS =
  0.40 × Rank(Daily Volatility + ATR Ratio)  # 단기 변동성 (가장 중요)
+ 0.30 × Rank(RSI Volatility)                # 반등 탄력 및 진동성
+ 0.30 × Rank(Weekly Volatility)             # 중기 추세 변동성
```

*   **특징**: 유동성 항목이 빠지고, **변동성과 진동성(탄력)**에 100% 비중 집중.

---

## 5. 분류 기준 및 전략 적용 파이프라인

### 5.1 파이프라인

```
[코스피 전체]
      ↓
[ETF/ETN/우선주 제외 & 유동성 필터 (평균 거래대금 > 1,000억)]  <-- 1차 거름망
      ↓
[변동성/진동성 지표 계산 & 랭킹 산출]
      ↓
[Tesla-Volatility Score 상위 랭킹 선정]
      ↓
[상위 20 종목 유니버스 구성]
```

### 5.2 등급 분류

| 구분 | 기준 | 해석 |
| :--- | :--- | :--- |
| **Tier S** | 상위 1~10위 | **전략 핵심 타겟 (집중 공략)** |
| **Tier A** | 상위 11~30위 | 보조 타겟 (Tier S 신호 부재 시 활용) |
| **제외** | 나머지 | 변동성 부족으로 전략 제외 |

---

## 6. 기대 효과

*   **초대형주 배제**: 거래대금이 커도 움직임이 둔한 종목은 자연스럽게 탈락.
*   **"살아있는" 종목 선정**: 최근 3개월 내에 급등락과 활발한 손바뀜이 있는 종목만 포착.
*   **전략 승률 개선**: "눌림목 매매"나 "역추세 매매"가 잘 통하는 **탄력 좋은 종목** 위주로 유니버스 압축.
